{% extends 'web/base_home.html' %}

{% block main %}
{% if user.is_authenticated %}
<!-- Page Heading -->
<h1 class="h3 mb-2 text-gray-800">Tables</h1>
<br />

<form method="post" enctype="multipart/form-data" >
    {% csrf_token %}
    <div class="row">
      {% for fields in form %}
        <div class="col">
          {{fields}}
        </div>
      {% endfor %}
      <!--<div class="col">
        {{form.nombre}}
      </div>
      <div class="col">
        {{form.posicion}}
      </div>
      <div class="col">
        {{form.oficina}}
      </div>
      <div class="col">
        {{form.edad}}
      </div>
      <div class="col">
        {{form.inicio}}
      </div>
      <div class="col">
        {{form.salario}}
      </div>-->
      <div class="col">
          <button type="submit" class="btn btn-success btn-block">Save</button>
      </div>
    </div>
  </form>

  <br />

<!-- DataTales Example -->
<div class="card shadow mb-4">
  <div class="card-header py-3">
    <h6 class="m-0 font-weight-bold text-primary">Employees</h6>
  </div>
  <div class="card-body">
    {% if not empleados %}
      <h2>Not data found</h2>
    {% else %}
    <div class="table-responsive">
      <table class="table table-bordered table-hover" id="dataTable" width="100%" cellspacing="0">
        <thead class="table-dark">
          <tr>
            <th></th>
            <th>Name</th>
            <th>Position</th>
            <th>Office</th>
            <th>Age</th>
            <th>Start date</th>
            <th>Salary</th>
            <th></th>
          </tr>
        </thead>
        <tfoot class="table-dark">
          <tr>
            <th></th>
            <th>Name</th>
            <th>Position</th>
            <th>Office</th>
            <th>Age</th>
            <th>Start date</th>
            <th>Salary</th>
            <th></th>
          </tr>
        </tfoot>
        <tbody>
            {% for emp in empleados %}
              <tr>
                <td>{{ forloop.counter }}</td>
                <td><a href="{% url 'edit_employee' pk=emp.pk %}">{{ emp.nombre }}</a></td>
                <td>{{ emp.posicion }}</td>
                <td>{{ emp.oficina }}</td>
                <td>{{ emp.edad }}</td>
                <td>{{ emp.inicio }}</td>
                <td>{{ emp.salario }}</td>
                <td class="text-center">
                  <a href="{% url 'delete_employee' pk=emp.pk %}">
                      <i class="fas fa-trash-alt text-danger"></i>
                  </a>
                </td>
              </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
    {% endif %}
  </div>
</div>
{% else %}
  <a href="{% url 'log_in' %}">Login</a>
{% endif %}
{% endblock %}